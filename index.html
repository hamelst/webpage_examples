<!DOCTYPE html>
<html>
<body>
<!-- <p> hamels01</p>
<p> /Users/stevenhamel/Dropbox/My Mac (Stevenâ€™s MacBook Pro (2))/Documents/Projects/dehashing-cases/REGN_02_17_21/data/metadata-HIMC</p> -->
<form id="frm1" action="/action_page.php">
  Username: <input type="text" name="fname" value="hamels01"><br>
  Folder Path Local: <input type="text" name="lname" value="/Users/stevenhamel/Dropbox/Documents/Projects/dehashing-cases/REGN_02_17_21/"><br><br>
  <!-- <input type="submit" value="Submit"> -->
</form> 

<p>Click "Try it" to display the value of each element in the form.</p>

<button onclick="myFunction()">Try it</button>

<p id="demo"></p>
<h2>Local computer code: </h2>
<p id="input" style="font-family: monospace;background-color: #ddffdd;"></p>
<h2>Jupyter lab code: </h2>

<p id="output" style="font-family: monospace; background-color: #ddffdd;"></p>

<script>
function myFunction() {

  var x = document.getElementById("frm1");
  var username = x.elements[0].value
  var path = x.elements[1].value;
  var foldername = path.match(/([^\/]*)\/*$/)[1]
  var text = "";
  var i;
  //for (i = 0; i < x.length ;i++) {
  //  text += x.elements[i].value + "<br>";
  //}
  // 
  var local_code = "scp -r "+ path + " " + username + "@minerva.hpc.mssm.edu:/sc/arion/scratch/" + username + "/MICSSS_tmp_images/"
  var jupyter_code = "mkdir /tmp/MICSSS_images/ && scp -r hamels01@minerva.hpc.mssm.edu:/sc/arion/scratch/" + username + "/MICSSS_tmp_images/"+foldername+ "  /tmp/MICSSS_images/"
  //mkdir -p not recomended
  //"mkdir /tmp/MICSSS_images/ && scp -r hamels01@minerva.hpc.mssm.edu:/sc/arion/scratch/" + username + "/MICSSS_tmp_images/"+foldername+ "  /tmp/MICSSS_images/
  
  document.getElementById("demo").innerHTML = foldername
  document.getElementById("input").innerHTML = local_code
  document.getElementById("output").innerHTML = jupyter_code
}
</script>

</body>
</html>
